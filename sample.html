<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
<style>
body {
    margin: 0;
    padding: 0;
}
</style>
</head>
<body>

<img src="http://maps.googleapis.com/maps/api/streetview?size=320x320&location=35.653548,139.722357&fov=90&heading=0&pitch=10&sensor=false" id="view" width="320" height="320">


<script type="text/javascript">
var i = 0,
    idCode,
    lat,
    lon,
    height,
    intervalId,
    points = [
        "35.654504,139.722802",
        "35.653629,139.722384",
        "35.653982,139.722529",
        "35.654213,139.722647",
        "35.654488,139.722792",
        "35.654937,139.723028",
        "35.655307,139.723216",
        "35.655582,139.723350",
        "35.655861,139.723506",
        "35.656240,139.723709",
        "35.656567,139.723827",
        "35.656994,139.723844",
        "35.657635,139.723779",
        "35.657975,139.723774"
    ];

/*
ucode:
00001C000000000000010000030CA254

分解
00001C0000000000
00010000030CA254
*/
/*
console.log(parseInt("00010000030CA254",16).toString(2));
idCode = parseInt("00010000030CA254",16).toString(2);
lat = idCode.substr(2, 23);
lon = idCode.substr(25, 24);
height = idCode.substr(29, 9);
console.log(lat);
console.log(lon);
console.log(height);
console.log(parseInt(lat, 2).toString(10));
console.log(parseInt(lon, 2).toString(10));
console.log(parseInt(height, 2).toString(10));
*/

intervalId = setInterval(function() {
    document.getElementById("view").src = "http://maps.googleapis.com/maps/api/streetview?size=320x320&location=" + points[i] + "&fov=90&heading=0&pitch=10&sensor=false";
    i++;
    if (i === points.length) {
        clearInterval(intervalId);
    }
}, 2000);
</script>

</body>
</html>
